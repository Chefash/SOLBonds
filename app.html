<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoulBond - Find Your NFT Soulmate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .float { animation: float 3s ease-in-out infinite; }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(236, 72, 153, 0.5); }
            50% { box-shadow: 0 0 40px rgba(236, 72, 153, 0.8); }
        }
        .pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

        .gradient-bg {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hidden { display: none !important; }
    </style>
</head>
<body class="bg-gray-900 text-white">
    
    <!-- Navigation -->
    <nav class="bg-gray-800 border-b border-gray-700 px-6 py-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="text-2xl font-bold">üíï SoulBond</div>
            <div class="flex gap-4">
                <button id="walletBtn" class="bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-full font-bold transition">
                    Connect Wallet
                </button>
                <div id="walletInfo" class="hidden bg-green-600 px-6 py-2 rounded-full">
                    <span id="walletAddress">Connected</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        
        <!-- SCREEN 1: Welcome / Landing -->
        <div id="welcomeScreen" class="text-center py-20">
            <div class="gradient-bg rounded-3xl p-12 mb-8">
                <h1 class="text-6xl font-bold mb-6">Welcome to SoulBond</h1>
                <p class="text-2xl mb-8">Find your NFT's soulmate. Earn rewards. Build bonds.</p>
                <button onclick="connectWallet()" class="bg-white text-purple-600 hover:bg-gray-100 font-bold py-4 px-12 rounded-full text-xl pulse-glow transition transform hover:scale-105">
                    Get Started
                </button>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <div class="bg-gray-800 rounded-xl p-6">
                    <div class="text-4xl mb-3">‚ú®</div>
                    <h3 class="text-xl font-bold mb-2">Create Profile</h3>
                    <p class="text-gray-400">Mint your SoulBond NFT with your unique traits</p>
                </div>
                <div class="bg-gray-800 rounded-xl p-6">
                    <div class="text-4xl mb-3">üîÆ</div>
                    <h3 class="text-xl font-bold mb-2">Get Matched</h3>
                    <p class="text-gray-400">Our algorithm finds your perfect compatibility</p>
                </div>
                <div class="bg-gray-800 rounded-xl p-6">
                    <div class="text-4xl mb-3">üí∞</div>
                    <h3 class="text-xl font-bold mb-2">Earn Rewards</h3>
                    <p class="text-gray-400">Longer bonds = higher USDC rewards</p>
                </div>
            </div>
        </div>

        <!-- SCREEN 2: Create Profile -->
        <div id="createProfileScreen" class="hidden">
            <div class="max-w-2xl mx-auto">
                <h2 class="text-4xl font-bold mb-8 text-center">Create Your SoulBond Profile</h2>
                
                <div class="bg-gray-800 rounded-2xl p-8 border-2 border-purple-500">
                    <div class="space-y-6">
                        <!-- Username -->
                        <div>
                            <label class="block text-lg font-bold mb-2">Username</label>
                            <input type="text" id="username" placeholder="Enter your username" 
                                class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none">
                        </div>

                        <!-- Zodiac Sign -->
                        <div>
                            <label class="block text-lg font-bold mb-2">üîÆ Zodiac Sign</label>
                            <select id="zodiac" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none">
                                <option value="">Select your sign...</option>
                                <option value="1">‚ôà Aries (Fire)</option>
                                <option value="2">‚ôâ Taurus (Earth)</option>
                                <option value="3">‚ôä Gemini (Air)</option>
                                <option value="4">‚ôã Cancer (Water)</option>
                                <option value="5">‚ôå Leo (Fire)</option>
                                <option value="6">‚ôç Virgo (Earth)</option>
                                <option value="7">‚ôé Libra (Air)</option>
                                <option value="8">‚ôè Scorpio (Water)</option>
                                <option value="9">‚ôê Sagittarius (Fire)</option>
                                <option value="10">‚ôë Capricorn (Earth)</option>
                                <option value="11">‚ôí Aquarius (Air)</option>
                                <option value="12">‚ôì Pisces (Water)</option>
                            </select>
                        </div>

                        <!-- Pet Preference -->
                        <div>
                            <label class="block text-lg font-bold mb-2">üêæ Pet Preference</label>
                            <div class="grid grid-cols-3 gap-4">
                                <button onclick="selectPet(0)" class="pet-btn bg-gray-700 hover:bg-gray-600 border-2 border-gray-600 rounded-lg p-4 transition" data-pet="0">
                                    <div class="text-4xl mb-2">üêï</div>
                                    <div class="font-bold">Dog</div>
                                </button>
                                <button onclick="selectPet(1)" class="pet-btn bg-gray-700 hover:bg-gray-600 border-2 border-gray-600 rounded-lg p-4 transition" data-pet="1">
                                    <div class="text-4xl mb-2">üêà</div>
                                    <div class="font-bold">Cat</div>
                                </button>
                                <button onclick="selectPet(2)" class="pet-btn bg-gray-700 hover:bg-gray-600 border-2 border-gray-600 rounded-lg p-4 transition" data-pet="2">
                                    <div class="text-4xl mb-2">ü¶é</div>
                                    <div class="font-bold">Other</div>
                                </button>
                            </div>
                        </div>

                        <!-- Risk Tolerance -->
                        <div>
                            <label class="block text-lg font-bold mb-2">üé≤ Risk Tolerance</label>
                            <input type="range" id="riskTolerance" min="1" max="10" value="5" 
                                class="w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                            <div class="flex justify-between text-sm text-gray-400 mt-2">
                                <span>1 (Conservative)</span>
                                <span id="riskValue" class="text-2xl font-bold text-purple-400">5</span>
                                <span>10 (Degen)</span>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button onclick="createProfile()" class="w-full bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 font-bold py-4 rounded-lg text-xl transition transform hover:scale-105">
                            Create Profile (5 USDC)
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 3: Matching -->
        <div id="matchingScreen" class="hidden">
            <h2 class="text-4xl font-bold mb-8 text-center">Find Your Match</h2>
            
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- Your Profile -->
                <div class="bg-gray-800 rounded-2xl p-6 border-2 border-purple-500">
                    <h3 class="text-2xl font-bold mb-4 text-purple-400">Your Profile</h3>
                    <div id="userProfileDisplay" class="space-y-3">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Potential Match -->
                <div class="bg-gray-800 rounded-2xl p-6 border-2 border-pink-500">
                    <h3 class="text-2xl font-bold mb-4 text-pink-400">Potential Match</h3>
                    <div id="matchProfileDisplay" class="space-y-3">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>

            <!-- Compatibility Score -->
            <div class="bg-gradient-to-br from-pink-600 to-purple-600 rounded-2xl p-8 mb-8">
                <div class="text-center">
                    <div class="text-7xl font-bold mb-4" id="compatScore">85%</div>
                    <div class="text-2xl mb-6">Compatibility Match</div>
                    
                    <div class="grid grid-cols-3 gap-4 max-w-3xl mx-auto text-sm">
                        <div class="bg-white/20 rounded-lg p-3">
                            <div class="font-bold mb-1">üîÆ Zodiac</div>
                            <div id="zodiacScore">40/40 pts</div>
                        </div>
                        <div class="bg-white/20 rounded-lg p-3">
                            <div class="font-bold mb-1">üêæ Pets</div>
                            <div id="petScore">30/30 pts</div>
                        </div>
                        <div class="bg-white/20 rounded-lg p-3">
                            <div class="font-bold mb-1">üé≤ Risk</div>
                            <div id="riskScore">15/30 pts</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-4 justify-center">
                <button onclick="rejectMatch()" class="bg-red-600 hover:bg-red-700 font-bold py-4 px-8 rounded-full text-lg transition">
                    ‚ùå Pass
                </button>
                <button onclick="findNewMatch()" class="bg-gray-600 hover:bg-gray-700 font-bold py-4 px-8 rounded-full text-lg transition">
                    üîÑ Next Match
                </button>
                <button onclick="acceptMatch()" class="bg-green-600 hover:bg-green-700 font-bold py-4 px-8 rounded-full text-lg transition pulse-glow">
                    ‚úÖ Accept & Bond
                </button>
            </div>
        </div>

        <!-- SCREEN 4: Bond Dashboard -->
        <div id="bondScreen" class="hidden">
            <h2 class="text-4xl font-bold mb-8 text-center">üíï Your Active Bond</h2>
            
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- Bond Info -->
                <div class="bg-gradient-to-br from-pink-600 to-pink-700 rounded-2xl p-8 border-2 border-pink-400">
                    <h3 class="text-2xl font-bold mb-6 text-center">Bond Details</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-pink-200">Bonded With:</span>
                            <span class="font-bold" id="bondPartner">CryptoLover_42</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-pink-200">Duration:</span>
                            <span class="font-bold text-2xl" id="bondDuration">45 days</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-pink-200">Compatibility:</span>
                            <span class="font-bold text-2xl" id="bondCompat">85%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-pink-200">Reward Multiplier:</span>
                            <span class="font-bold text-3xl text-yellow-300" id="bondMultiplier">1.5x</span>
                        </div>
                    </div>
                </div>

                <!-- Earnings -->
                <div class="bg-gradient-to-br from-green-600 to-green-700 rounded-2xl p-8 border-2 border-green-400">
                    <h3 class="text-2xl font-bold mb-6 text-center">Earnings</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-green-200">Current Tier:</span>
                            <span class="font-bold text-2xl">ü•á Gold</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-200">Daily Rate:</span>
                            <span class="font-bold text-2xl" id="dailyRate">$15.00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-200">Total Earned:</span>
                            <span class="font-bold text-3xl text-yellow-300" id="totalEarned">$675.00</span>
                        </div>
                        <button class="w-full bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold py-4 rounded-lg transition mt-4">
                            Claim Rewards
                        </button>
                    </div>
                </div>
            </div>

            <!-- Reward Tiers Progress -->
            <div class="bg-gray-800 rounded-2xl p-8 mb-8">
                <h3 class="text-2xl font-bold mb-6 text-center">Your Progress</h3>
                <div class="space-y-4">
                    <div class="flex items-center gap-4">
                        <div class="w-16 text-center">ü•â</div>
                        <div class="flex-1 bg-gray-700 rounded-full h-4">
                            <div class="bg-gradient-to-r from-yellow-600 to-yellow-500 h-4 rounded-full" style="width: 100%"></div>
                        </div>
                        <div class="w-24 text-right text-sm">Days 1-7 ‚úì</div>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="w-16 text-center">ü•à</div>
                        <div class="flex-1 bg-gray-700 rounded-full h-4">
                            <div class="bg-gradient-to-r from-gray-400 to-gray-300 h-4 rounded-full" style="width: 100%"></div>
                        </div>
                        <div class="w-24 text-right text-sm">Days 8-30 ‚úì</div>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="w-16 text-center">ü•á</div>
                        <div class="flex-1 bg-gray-700 rounded-full h-4">
                            <div class="bg-gradient-to-r from-yellow-500 to-yellow-400 h-4 rounded-full" style="width: 50%"></div>
                        </div>
                        <div class="w-24 text-right text-sm font-bold text-yellow-400">Day 45/90</div>
                    </div>
                    <div class="flex items-center gap-4 opacity-50">
                        <div class="w-16 text-center">üíé</div>
                        <div class="flex-1 bg-gray-700 rounded-full h-4"></div>
                        <div class="w-24 text-right text-sm">Days 91-180</div>
                    </div>
                    <div class="flex items-center gap-4 opacity-50">
                        <div class="w-16 text-center">üëë</div>
                        <div class="flex-1 bg-gray-700 rounded-full h-4"></div>
                        <div class="w-24 text-right text-sm">Days 181+</div>
                    </div>
                </div>
            </div>

            <!-- Actions -->
            <div class="flex gap-4 justify-center">
                <button onclick="breakBond()" class="bg-red-600 hover:bg-red-700 font-bold py-4 px-8 rounded-full text-lg transition">
                    üíî Break Bond (5 USDC fee)
                </button>
            </div>
        </div>

    </div>

    <script>
        // Global state
        let currentScreen = 'welcome';
        let userProfile = null;
        let currentMatch = null;
        let selectedPet = null;
        let bondData = null;

        // Zodiac data
        const zodiacNames = ['', 'Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];
        const zodiacEmojis = ['', '‚ôà', '‚ôâ', '‚ôä', '‚ôã', '‚ôå', '‚ôç', '‚ôé', '‚ôè', '‚ôê', '‚ôë', '‚ôí', '‚ôì'];
        const petNames = ['Dog', 'Cat', 'Other'];
        const petEmojis = ['üêï', 'üêà', 'ü¶é'];

        // Risk tolerance slider
        document.getElementById('riskTolerance')?.addEventListener('input', (e) => {
            document.getElementById('riskValue').textContent = e.target.value;
        });

        // Screen navigation
        function showScreen(screen) {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('createProfileScreen').classList.add('hidden');
            document.getElementById('matchingScreen').classList.add('hidden');
            document.getElementById('bondScreen').classList.add('hidden');
            
            document.getElementById(screen + 'Screen').classList.remove('hidden');
            currentScreen = screen;
        }

        // Connect wallet
        function connectWallet() {
            document.getElementById('walletBtn').classList.add('hidden');
            document.getElementById('walletInfo').classList.remove('hidden');
            document.getElementById('walletAddress').textContent = '8x7k...mN3p';
            showScreen('createProfile');
        }

        // Pet selection
        function selectPet(pet) {
            selectedPet = pet;
            document.querySelectorAll('.pet-btn').forEach(btn => {
                btn.classList.remove('border-purple-500', 'bg-purple-600');
                btn.classList.add('border-gray-600', 'bg-gray-700');
            });
            const selected = document.querySelector(`[data-pet="${pet}"]`);
            selected.classList.remove('border-gray-600', 'bg-gray-700');
            selected.classList.add('border-purple-500', 'bg-purple-600');
        }

        // Create profile
        function createProfile() {
            const username = document.getElementById('username').value;
            const zodiac = parseInt(document.getElementById('zodiac').value);
            const risk = parseInt(document.getElementById('riskTolerance').value);

            if (!username || !zodiac || selectedPet === null) {
                alert('Please fill in all fields!');
                return;
            }

            userProfile = {
                username,
                zodiac,
                pet: selectedPet,
                risk
            };

            alert('‚úÖ Profile created! Finding matches...');
            findNewMatch();
            showScreen('matching');
        }

        // Generate random match
        function findNewMatch() {
            currentMatch = {
                username: 'User_' + Math.floor(Math.random() * 1000),
                zodiac: Math.floor(Math.random() * 12) + 1,
                pet: Math.floor(Math.random() * 3),
                risk: Math.floor(Math.random() * 10) + 1
            };

            displayProfiles();
            calculateCompatibility();
        }

        // Display profiles
        function displayProfiles() {
            document.getElementById('userProfileDisplay').innerHTML = `
                <div><strong>Username:</strong> ${userProfile.username}</div>
                <div><strong>Zodiac:</strong> ${zodiacEmojis[userProfile.zodiac]} ${zodiacNames[userProfile.zodiac]}</div>
                <div><strong>Pet:</strong> ${petEmojis[userProfile.pet]} ${petNames[userProfile.pet]}</div>
                <div><strong>Risk:</strong> ${userProfile.risk}/10</div>
            `;

            document.getElementById('matchProfileDisplay').innerHTML = `
                <div><strong>Username:</strong> ${currentMatch.username}</div>
                <div><strong>Zodiac:</strong> ${zodiacEmojis[currentMatch.zodiac]} ${zodiacNames[currentMatch.zodiac]}</div>
                <div><strong>Pet:</strong> ${petEmojis[currentMatch.pet]} ${petNames[currentMatch.pet]}</div>
                <div><strong>Risk:</strong> ${currentMatch.risk}/10</div>
            `;
        }

        // Calculate compatibility
        function calculateCompatibility() {
            let zodiacScore = 0;
            let petScore = 0;
            let riskScore = 0;

            // Zodiac (simplified)
            const fireSign = [1, 5, 9];
            const earthSign = [2, 6, 10];
            const airSign = [3, 7, 11];
            const waterSign = [4, 8, 12];

            if ((fireSign.includes(userProfile.zodiac) && fireSign.includes(currentMatch.zodiac)) ||
                (earthSign.includes(userProfile.zodiac) && earthSign.includes(currentMatch.zodiac)) ||
                (airSign.includes(userProfile.zodiac) && airSign.includes(currentMatch.zodiac)) ||
                (waterSign.includes(userProfile.zodiac) && waterSign.includes(currentMatch.zodiac))) {
                zodiacScore = 40;
            } else {
                zodiacScore = 15;
            }

            // Pet
            if (userProfile.pet === currentMatch.pet) {
                petScore = 30;
            } else if (userProfile.pet === 2 || currentMatch.pet === 2) {
                petScore = 20;
            } else {
                petScore = 0;
            }

            // Risk
            const riskDiff = Math.abs(userProfile.risk - currentMatch.risk);
            if (riskDiff <= 2) {
                riskScore = 30;
            } else if (riskDiff <= 5) {
                riskScore = 15;
            } else {
                riskScore = 5;
            }

            const total = zodiacScore + petScore + riskScore;

            document.getElementById('compatScore').textContent = total + '%';
            document.getElementById('zodiacScore').textContent = zodiacScore + '/40 pts';
            document.getElementById('petScore').textContent = petScore + '/30 pts';
            document.getElementById('riskScore').textContent = riskScore + '/30 pts';
        }

        // Accept match
        function acceptMatch() {
            const compatScore = parseInt(document.getElementById('compatScore').textContent);
            bondData = {
                partner: currentMatch.username,
                compatibility: compatScore,
                startDate: new Date(),
                days: 45
            };
            alert('üíï Bond created! View your dashboard.');
            updateBondDashboard();
            showScreen('bond');
        }

        // Reject match
        function rejectMatch() {
            alert('‚ùå Match rejected. Finding another...');
            findNewMatch();
        }

        // Update bond dashboard
        function updateBondDashboard() {
            document.getElementById('bondPartner').textContent = bondData.partner;
            document.getElementById('bondDuration').textContent = bondData.days + ' days';
            document.getElementById('bondCompat').textContent = bondData.compatibility + '%';
            
            let multiplier = 1.0;
            if (bondData.compatibility >= 90) multiplier = 2.0;
            else if (bondData.compatibility >= 80) multiplier = 1.5;
            else if (bondData.compatibility >= 70) multiplier = 1.2;
            
            document.getElementById('bondMultiplier').textContent = multiplier.toFixed(1) + 'x';
            
            const dailyRate = 10 * multiplier;
            const totalEarned = dailyRate * bondData.days;
            
            document.getElementById('dailyRate').textContent = '$' + dailyRate.toFixed(2);
            document.getElementById('totalEarned').textContent = '$' + totalEarned.toFixed(2);
        }

        // Break bond
        function breakBond() {
            if (confirm('üíî Are you sure? This costs 5 USDC and resets your progress.')) {
                alert('Bond broken. You can now find a new match.');
                showScreen('matching');
                findNewMatch();
            }
        }
    </script>
</body>
</html>